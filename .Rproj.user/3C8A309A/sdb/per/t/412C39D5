{
    "collab_server" : "",
    "contents" : "#Install and load \"caret\" package for ML-algorithms to be used\n\ninstall.packages(\"caret\")\n\n#Install and load ggplot2 and Lock5Data for data vizualations functions\n\ninstall.packages(\"tidyverse\")\n\nlibrary(ggplot2)\n\n#Load \"caret\"\n\nlibrary(caret)\n\n#create new dataframes with intuitive variable names\n\ntrain_891 <- read.csv(\"train.csv\", header=TRUE)\n\ntest_418 <- read.csv(\"test.csv\", header=TRUE)\n\nsurvival_id <- read.csv(\"gender_submission.csv\", header=TRUE)\n\n#Exploratory anlaysis begins here\n\n#Looking for (1) variations within variables and (2) what covariations occur between variables\n\n#Begin with summary for quick overview\n\n#Clarification of few key variables:\n\n#Pclass is a proxy for socioeconomic class; 1st corresponds to highest, 2nd to middle, 3rd to lowest\n\n#Sibsp includes siblings and spouses. Siblings extends to step-siblings. Spouses does not extend to mistresses or fiances.\n\n#Parch includes parent and child. Parent is mother or father. Child is son, daughter, including steps. Parch value = 0 if travelled with Nanny\n\n#Embarked is port embarked from\n\n#Survival is 1 if survived, 0 if dead\n\n#Age is fractional if < 1 yr, if estimated it's in form of \n\n#What variables do I suppose have greatest influence on survival?\n\n#Hypothesis (in order): Pclass, Age, Sex, Sibsplibrary('ggplot2')\n\n\n#Quick look at the \n\nstr(train_891)\n\n\nhist(train_891$Pclass, main=\"Histogram of Passenger Classes\", xlab=\"Class (1st, 2nd, 3rd)\", border=\"blue\", col=\"green\")\n\nwith(train_891, table(Sex))\n\n#Histogram for overview of passenger ages\n\nggplot(train_891, aes(x = Age)) + geom_histogram(binwidth=5)\n\nggplot(train_891, aes(x = Age, fill = factor(Survived))) + geom_histogram(bins=50) +\n  xlab(\"Age\") +\n  scale_fill_discrete(name = \"Survived\") +\n  ggtitle(\"Age Vs Survived\")\n\nggplot(train_891, aes(x = Age, fill = factor(Survived))) + geom_histogram(bins=50) +\n  xlab(\"Age\") +\n  scale_fill_discrete(name = \"Survived\") +\n  ggtitle(\"Age Vs Survived\")\n\nggplot(train_891, aes(x=Plcass, countfill=factor(Survived))) + geom_barplot(stat = \"count\")\nxlab(\"PClass\") +\nscale_fill_discrete(name = \"Survived\") +\nggtitle(\"Pclass Vs Survived\")\n\n\n  \n#Clearly, class has a significant affect on Survival. 1st class has smallest proportion, ascending to 3rd class.\n\ndat <- data.frame(table(train_891$Pclass,train_891$Survived))\nnames(dat) <- c(\"Pclass\",\"Survived\",\"Count\")\nggplot(dat, aes(x=Pclass, y=Count, fill=Survived)) + geom_bar(stat=\"identity\") + xlab(\"Passenger Class\") \n\n\n\n#Let's break it down between Male and Female passengers\n\ndat <- data.frame(table(train_891$Pclass,train_891$Survived, train_891$Sex))\nnames(dat) <- c(\"Pclass\",\"Survived\", \"Sex\", \"Count\")\nggplot(dat, aes(x=Pclass, y=Count, fill=Survived)) + geom_bar(stat=\"identity\") + xlab(\"Passenger Class\") + facet_grid(Sex ~ .) \n\n#Clearly, first class female first and second class passengers have remarkable survival rates\n\n#Let's measure effect of Sibsp on Survival, first on all, then males & fem\n\ndat <- data.frame(table(train_891$SibSp,train_891$Survived))\nnames(dat) <- c(\"SibSp\",\"Survived\",\"Count\")\nggplot(dat, aes(x=SibSp, y=Count, fill=Survived)) + geom_bar(stat=\"identity\") + xlab(\"SibSp\") \n\n#Appears that 0 SibSp leads to <33% chance survival (below av), 1 leads to approx 50% survival (above av), 2 similar but few data points, seems large familes died together (did they wait? indicates poverty level?)\n\ndat <- data.frame(table(train_891$SibSp, train_891$Pclass, train_891$Survived))\nnames(dat) <- c(\"SibSp\", \"Pclass\", \"Survived\",\"Count\")\nggplot(dat, aes(x=Pclass, y=Count, fill=SibSp)) + geom_bar(stat=\"identity\") + xlab(\"Passenger Class\") \n\n#Naturally, 1st class passengers had 1 or 2 Siblings/Spouses, which makes previous graph make some sense\n\n\ndat <- data.frame(table(train_891$SibSp, train_891$Pclass, train_891$Survived, train_891$Age, train_891$Fare))\nnames(dat) <- c(\"SibSp\", \"Pclass\", \"Survived\", \"Age\", \"Fare\", \"Sex\", \"Count\")\nggplot(dat, aes(x=Age, y=Pclass, fill=Survived)) + geom_dotplot(dotsize = 0.4) + xlab(\"Age\") + facet_grid(Sex ~ .) \n  \n\nggplot(train_891, aes(x = Level, fill = Sex)) + geom_bar(position = \"fill\")\n\nggplot(train_891, aes(x = Age, fill = factor(Survived))) + geom_histogram(bins=50) +\n  xlab(\"Age\") +\n  scale_fill_discrete(name = \"Survived\") +\n  ggtitle(\"Age Vs Survived\")\n\n\n\n\n\n#Feataure Engineering Begins Here\n\n\n\n\n\ndat <- data.frame(table(train_891$SibSp,train_891$Survived))\nnames(dat) <- c(\"SibSp\",\"Survived\",\"Count\")\nggplot(dat, aes(x=SibSp, y=Count, fill=Survived)) + geom_bar(stat=\"identity\") + xlab(\"SibSp\") \n\n\n\n\n\n\nhelp(ggplot)\n\nsexf <- factor(train_891$Sex)\n\nhist(train_891$Sex)\n\n\nnewdata <- subset(train_891, Sex==\"male\" & Survived > 0, select=c(Name, Pclass, Survived))\n\ntrain_891\n\n\nnewdata\n\n\n#\n\nstr(train_891)\n\n\n\n\n\n",
    "created" : 1496345473466.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1216672653",
    "id" : "412C39D5",
    "lastKnownWriteTime" : 1496431055,
    "last_content_update" : 1496431055194,
    "path" : "~/titanic_final/titianic.R",
    "project_path" : "titianic.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}